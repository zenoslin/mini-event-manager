{"version":3,"file":"bundle.esm.js","sources":["../src/main.ts"],"sourcesContent":["type Listener = (...payload: any) => void;\n\ninterface ListenersMap {\n  [propName: string]: Listener[];\n}\n\nexport default class MiniEvent {\n  private _listenersMap: ListenersMap;\n\n  constructor() {\n    this._listenersMap = {};\n  }\n\n  on(evnetName: string, linstener: Listener): MiniEvent {\n    if (undefined === this._listenersMap[evnetName]) {\n      this._listenersMap[evnetName] = [];\n    }\n    this._listenersMap[evnetName].push(linstener);\n    return this;\n  }\n\n  off(evnetName: string, linstener?: Listener): MiniEvent {\n    const listenerList: Listener[] = this._listenersMap[evnetName];\n    // has this event\n    if (listenerList !== undefined) {\n      if (linstener === undefined) {\n        // clear all listener\n        delete this._listenersMap[evnetName];\n      } else {\n        // clear this event\n        const index = listenerList.findIndex(\n          (fn: Listener) => fn === linstener\n        );\n        listenerList.splice(index, 1);\n      }\n    }\n    return this;\n  }\n\n  emit(evnetName: string, ...payload: any): boolean {\n    const linstenerList: Listener[] = this._listenersMap[evnetName];\n    if (undefined !== linstenerList && 0 < linstenerList.length) {\n      for (let [index, listener] of linstenerList.entries()) {\n        listener(...payload);\n      }\n      return true;\n    } else {\n      return false;\n    }\n  }\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMA;IAGE;QACE,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;KACzB;IAED,sBAAE,GAAF,UAAG,SAAiB,EAAE,SAAmB;QACvC,IAAI,SAAS,KAAK,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,EAAE;YAC/C,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC;SACpC;QACD,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC9C,OAAO,IAAI,CAAC;KACb;IAED,uBAAG,GAAH,UAAI,SAAiB,EAAE,SAAoB;QACzC,IAAM,YAAY,GAAe,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;QAE/D,IAAI,YAAY,KAAK,SAAS,EAAE;YAC9B,IAAI,SAAS,KAAK,SAAS,EAAE;gBAE3B,OAAO,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;aACtC;iBAAM;gBAEL,IAAM,KAAK,GAAG,YAAY,CAAC,SAAS,CAClC,UAAC,EAAY,IAAK,OAAA,EAAE,KAAK,SAAS,GAAA,CACnC,CAAC;gBACF,YAAY,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;aAC/B;SACF;QACD,OAAO,IAAI,CAAC;KACb;IAED,wBAAI,GAAJ,UAAK,SAAiB;;QAAE,iBAAe;aAAf,UAAe,EAAf,qBAAe,EAAf,IAAe;YAAf,gCAAe;;QACrC,IAAM,aAAa,GAAe,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;QAChE,IAAI,SAAS,KAAK,aAAa,IAAI,CAAC,GAAG,aAAa,CAAC,MAAM,EAAE;;gBAC3D,KAA8B,IAAA,KAAA,SAAA,aAAa,CAAC,OAAO,EAAE,CAAA,gBAAA,4BAAE;oBAA9C,IAAA,wBAAiB,EAAhB,aAAK,EAAE,gBAAQ;oBACvB,QAAQ,wBAAI,OAAO,GAAE;iBACtB;;;;;;;;;YACD,OAAO,IAAI,CAAC;SACb;aAAM;YACL,OAAO,KAAK,CAAC;SACd;KACF;IACH,gBAAC;CAAA,IAAA;;;;"}